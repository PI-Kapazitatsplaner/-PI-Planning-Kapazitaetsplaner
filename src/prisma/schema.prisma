generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  sub                  String  @id //The subject Presentet by Keycloak
  preferencesWhiteMode Boolean @default(false)
  productivityPercentage  Int     @default(100)
  abwesenheiten Abwesenheit[]
  standardAbwesenheiten Int[] 
}

model Abwesenheit{
  id Int @id @default(autoincrement())
  date DateTime
  typ AbwesenheitsTyp @default(abwesend)
  user User @relation(fields: [userSub], references: [sub])
  userSub String
  @@unique([userSub, date])
}

enum AbwesenheitsTyp {
  anwesend //Wirb für anwesenheiten an Feiertagen benötigt
  abwesend
  halbAbwesend
}